#!/bin/bash

for f in $nex_cli_base/src/main/concerns/*.sh; do
  source $f
done

main() {
  local main_cmd="nex $1 $2 $3"
  local fn_1=fn_$1
  local script_1=$1'_'$2'_'$3.sh
  local script_2=$1'_'$2.sh
  local script_3=$1.sh
  local cmd_1=_nx_$1'_'$2
  local cmd_2=_nx_$1
  local alias_value="$(find_alias $1 $2)"
  if [ "$(type -t $fn_1)" == function ]; then
    $fn_1 ${@:2}
    return 0
  fi
  if [ -n "$alias_value" ]; then
    $alias_value
    return
  fi

  if [ -z "$1" ]; then
    fn_hello
    return 1
  fi

  try_scripts $@
  try_commands $@
  
  echo " not_found: $main_cmd"
}



main "$@"
