#!/bin/bash

main() {
  local main_cmd="nex $1 $2 $3"
  local cmd_1=_nx_$1'_'$2
  local cmd_2=_nx_$1
  if [ -z "$1" ]; then
    echo " usage: nex <1> <2> <3>"
  elif is_cmd $cmd_1; then
    $cmd_1 "${@:3}"
  elif is_cmd $cmd_2; then
    $cmd_2 "${@:2}"
  elif [ "$1" == "hello" ]; then
    _hello
  else
    echo " not_found: $main_cmd"
  fi
}

is_cmd() {
  if command -v $1 &> /dev/null; then
    return 0
  else
    return 1
  fi
}

_hello() {
  echo " Hello Nex CLI !"
}

main "$@"
